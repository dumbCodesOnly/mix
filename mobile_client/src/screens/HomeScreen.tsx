/**\n * Home screen - Main navigation and feature overview.\n */\n\nimport React, { useEffect, useState } from 'react';\nimport {\n  View,\n  Text,\n  ScrollView,\n  TouchableOpacity,\n  StyleSheet,\n  Alert,\n  ActivityIndicator,\n} from 'react-native';\n\nimport { getAPIClient } from '../services/api';\nimport { getStorageService } from '../services/storage';\nimport { COLORS, SPACING, FONT_SIZES, SCREENS } from '../utils/constants';\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: COLORS.BACKGROUND,\n  },\n  scrollContent: {\n    padding: SPACING.MD,\n  },\n  header: {\n    marginBottom: SPACING.LG,\n  },\n  title: {\n    fontSize: FONT_SIZES.XXL,\n    fontWeight: 'bold',\n    color: COLORS.TEXT,\n    marginBottom: SPACING.SM,\n  },\n  subtitle: {\n    fontSize: FONT_SIZES.MD,\n    color: COLORS.TEXT_SECONDARY,\n    marginBottom: SPACING.MD,\n  },\n  statusContainer: {\n    backgroundColor: COLORS.DISABLED,\n    padding: SPACING.MD,\n    borderRadius: 8,\n    marginBottom: SPACING.LG,\n  },\n  statusText: {\n    fontSize: FONT_SIZES.SM,\n    color: COLORS.TEXT,\n  },\n  statusBadge: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginTop: SPACING.SM,\n  },\n  statusDot: {\n    width: 8,\n    height: 8,\n    borderRadius: 4,\n    marginRight: SPACING.SM,\n  },\n  featureGrid: {\n    marginBottom: SPACING.LG,\n  },\n  featureCard: {\n    backgroundColor: COLORS.PRIMARY,\n    padding: SPACING.MD,\n    borderRadius: 8,\n    marginBottom: SPACING.MD,\n  },\n  featureTitle: {\n    fontSize: FONT_SIZES.LG,\n    fontWeight: 'bold',\n    color: COLORS.BACKGROUND,\n    marginBottom: SPACING.SM,\n  },\n  featureDescription: {\n    fontSize: FONT_SIZES.SM,\n    color: COLORS.BACKGROUND,\n    opacity: 0.9,\n  },\n  settingsButton: {\n    backgroundColor: COLORS.SECONDARY,\n    padding: SPACING.MD,\n    borderRadius: 8,\n    alignItems: 'center',\n  },\n  settingsButtonText: {\n    fontSize: FONT_SIZES.MD,\n    fontWeight: 'bold',\n    color: COLORS.BACKGROUND,\n  },\n});\n\ninterface Feature {\n  id: string;\n  title: string;\n  description: string;\n  screen: string;\n}\n\nconst FEATURES: Feature[] = [\n  {\n    id: 'image-generation',\n    title: 'Image Generation',\n    description: 'Generate images from text prompts using AI',\n    screen: SCREENS.IMAGE_GENERATION,\n  },\n  {\n    id: 'image-editing',\n    title: 'Image Editing',\n    description: 'Edit and enhance images with text prompts',\n    screen: SCREENS.IMAGE_EDITING,\n  },\n  {\n    id: 'tts',\n    title: 'Text to Speech',\n    description: 'Convert text to natural-sounding speech',\n    screen: SCREENS.TTS,\n  },\n  {\n    id: 'stt',\n    title: 'Speech to Text',\n    description: 'Transcribe audio to text',\n    screen: SCREENS.STT,\n  },\n  {\n    id: 'chat',\n    title: 'Chat',\n    description: 'Chat with AI language models',\n    screen: SCREENS.CHAT,\n  },\n  {\n    id: 'embeddings',\n    title: 'Embeddings',\n    description: 'Generate vector embeddings for text',\n    screen: SCREENS.EMBEDDINGS,\n  },\n];\n\nexport default function HomeScreen({ navigation }: any) {\n  const [isHealthy, setIsHealthy] = useState<boolean | null>(null);\n  const [apiUrl, setApiUrl] = useState<string>('');\n\n  useEffect(() => {\n    const checkHealth = async () => {\n      try {\n        const apiClient = getAPIClient();\n        setApiUrl(apiClient.getBaseURL());\n        const healthy = await apiClient.checkHealth();\n        setIsHealthy(healthy);\n      } catch (error) {\n        console.error('Health check failed:', error);\n        setIsHealthy(false);\n      }\n    };\n\n    checkHealth();\n    const interval = setInterval(checkHealth, 30000); // Check every 30 seconds\n\n    return () => clearInterval(interval);\n  }, []);\n\n  const handleFeaturePress = (screen: string) => {\n    navigation.navigate(screen);\n  };\n\n  const handleSettingsPress = () => {\n    Alert.prompt(\n      'API Configuration',\n      'Enter the backend API URL:',\n      [\n        {\n          text: 'Cancel',\n          onPress: () => {},\n          style: 'cancel',\n        },\n        {\n          text: 'Save',\n          onPress: async (url) => {\n            if (url) {\n              try {\n                const storageService = getStorageService();\n                await storageService.saveAPIBaseURL(url);\n                const apiClient = getAPIClient();\n                apiClient.setBaseURL(url);\n                setApiUrl(url);\n                Alert.alert('Success', 'API URL updated successfully');\n              } catch (error) {\n                Alert.alert('Error', 'Failed to update API URL');\n              }\n            }\n          },\n        },\n      ],\n      'plain-text',\n      apiUrl\n    );\n  };\n\n  return (\n    <View style={styles.container}>\n      <ScrollView contentContainerStyle={styles.scrollContent}>\n        <View style={styles.header}>\n          <Text style={styles.title}>AI Platform</Text>\n          <Text style={styles.subtitle}>\n            Powered by HuggingFace Models\n          </Text>\n        </View>\n\n        <View style={styles.statusContainer}>\n          <Text style={styles.statusText}>Backend Status</Text>\n          <View style={styles.statusBadge}>\n            <View\n              style={[\n                styles.statusDot,\n                {\n                  backgroundColor: isHealthy\n                    ? COLORS.SUCCESS\n                    : isHealthy === false\n                    ? COLORS.ERROR\n                    : COLORS.WARNING,\n                },\n              ]}\n            />\n            <Text style={styles.statusText}>\n              {isHealthy === null\n                ? 'Checking...'\n                : isHealthy\n                ? 'Connected'\n                : 'Disconnected'}\n            </Text>\n          </View>\n          <Text style={[styles.statusText, { marginTop: SPACING.SM }]}>\n            {apiUrl}\n          </Text>\n        </View>\n\n        <View style={styles.featureGrid}>\n          {FEATURES.map((feature) => (\n            <TouchableOpacity\n              key={feature.id}\n              style={styles.featureCard}\n              onPress={() => handleFeaturePress(feature.screen)}\n            >\n              <Text style={styles.featureTitle}>{feature.title}</Text>\n              <Text style={styles.featureDescription}>\n                {feature.description}\n              </Text>\n            </TouchableOpacity>\n          ))}\n        </View>\n\n        <TouchableOpacity\n          style={styles.settingsButton}\n          onPress={handleSettingsPress}\n        >\n          <Text style={styles.settingsButtonText}>Configure API</Text>\n        </TouchableOpacity>\n      </ScrollView>\n    </View>\n  );\n}\n
