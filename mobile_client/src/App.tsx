/**\n * Main application component.\n *\n * Sets up navigation, theme, and global providers.\n */\n\nimport React, { useEffect, useState } from 'react';\nimport { NavigationContainer } from '@react-navigation/native';\nimport { createBottomTabNavigator } from '@react-navigation/bottom-tabs';\nimport { ActivityIndicator, View } from 'react-native';\n\nimport HomeScreen from './screens/HomeScreen';\nimport ImageGenerationScreen from './screens/ImageGenerationScreen';\nimport ImageEditingScreen from './screens/ImageEditingScreen';\nimport TTSScreen from './screens/TTSScreen';\nimport STTScreen from './screens/STTScreen';\nimport ChatScreen from './screens/ChatScreen';\nimport EmbeddingsScreen from './screens/EmbeddingsScreen';\n\nimport { loadAPIClient } from './services/api';\nimport { getStorageService } from './services/storage';\nimport { COLORS, SCREENS } from './utils/constants';\n\nconst Tab = createBottomTabNavigator();\n\nexport default function App() {\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    const initializeApp = async () => {\n      try {\n        // Load API client with saved URL\n        await loadAPIClient();\n\n        // Load user preferences\n        const storageService = getStorageService();\n        await storageService.getPreferences();\n        await storageService.getSettings();\n      } catch (error) {\n        console.error('Failed to initialize app:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    initializeApp();\n  }, []);\n\n  if (isLoading) {\n    return (\n      <View\n        style={{\n          flex: 1,\n          justifyContent: 'center',\n          alignItems: 'center',\n          backgroundColor: COLORS.BACKGROUND,\n        }}\n      >\n        <ActivityIndicator size=\"large\" color={COLORS.PRIMARY} />\n      </View>\n    );\n  }\n\n  return (\n    <NavigationContainer>\n      <Tab.Navigator\n        screenOptions={{\n          tabBarActiveTintColor: COLORS.PRIMARY,\n          tabBarInactiveTintColor: COLORS.TEXT_SECONDARY,\n          tabBarStyle: {\n            backgroundColor: COLORS.BACKGROUND,\n            borderTopColor: COLORS.BORDER,\n            borderTopWidth: 1,\n          },\n          headerStyle: {\n            backgroundColor: COLORS.PRIMARY,\n          },\n          headerTintColor: COLORS.BACKGROUND,\n          headerTitleStyle: {\n            fontWeight: 'bold',\n          },\n        }}\n      >\n        <Tab.Screen\n          name={SCREENS.HOME}\n          component={HomeScreen}\n          options={{\n            title: 'Home',\n            tabBarLabel: 'Home',\n          }}\n        />\n        <Tab.Screen\n          name={SCREENS.IMAGE_GENERATION}\n          component={ImageGenerationScreen}\n          options={{\n            title: 'Generate Image',\n            tabBarLabel: 'Generate',\n          }}\n        />\n        <Tab.Screen\n          name={SCREENS.IMAGE_EDITING}\n          component={ImageEditingScreen}\n          options={{\n            title: 'Edit Image',\n            tabBarLabel: 'Edit',\n          }}\n        />\n        <Tab.Screen\n          name={SCREENS.TTS}\n          component={TTSScreen}\n          options={{\n            title: 'Text to Speech',\n            tabBarLabel: 'TTS',\n          }}\n        />\n        <Tab.Screen\n          name={SCREENS.STT}\n          component={STTScreen}\n          options={{\n            title: 'Speech to Text',\n            tabBarLabel: 'STT',\n          }}\n        />\n        <Tab.Screen\n          name={SCREENS.CHAT}\n          component={ChatScreen}\n          options={{\n            title: 'Chat',\n            tabBarLabel: 'Chat',\n          }}\n        />\n        <Tab.Screen\n          name={SCREENS.EMBEDDINGS}\n          component={EmbeddingsScreen}\n          options={{\n            title: 'Embeddings',\n            tabBarLabel: 'Embed',\n          }}\n        />\n      </Tab.Navigator>\n    </NavigationContainer>\n  );\n}\n
