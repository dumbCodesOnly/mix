# AI Platform Mobile Client\n\nA React Native mobile application for interacting with the AI Platform Backend. Provides a user-friendly interface for text-to-image generation, image editing, text-to-speech, speech-to-text, LLM chat, and embeddings.\n\n## Features\n\n- **Image Generation**: Generate images from text prompts\n- **Image Editing**: Edit and enhance images with text prompts and masks\n- **Text-to-Speech**: Convert text to natural-sounding speech\n- **Speech-to-Text**: Transcribe audio to text\n- **Chat**: Interact with AI language models\n- **Embeddings**: Generate vector embeddings for text\n- **Image Caching**: Cache generated images for offline access\n- **Error Handling**: Graceful error handling with retry logic\n- **Offline Support**: Limited offline functionality with cached content\n- **Configurable Backend**: Change backend URL at runtime\n\n## Prerequisites\n\n- Node.js 16+ and npm/yarn\n- Expo CLI: `npm install -g expo-cli`\n- iOS Simulator (Mac) or Android Emulator\n- Or a physical device with Expo Go app installed\n\n## Installation\n\n1. Navigate to the mobile client directory:\n```bash\ncd mobile_client\n```\n\n2. Install dependencies:\n```bash\nnpm install\n# or\nyarn install\n```\n\n3. Create a `.env` file (optional):\n```bash\ncp .env.example .env\n```\n\n## Running the App\n\n### Development Mode\n\n```bash\n# Start the Expo development server\nnpm start\n\n# Run on iOS simulator\nnpm run ios\n\n# Run on Android emulator\nnpm run android\n\n# Run on web\nnpm run web\n```\n\n### Using Expo Go\n\n1. Install Expo Go on your mobile device\n2. Run `npm start`\n3. Scan the QR code with your device\n\n## Project Structure\n\n```\nsrc/\n  screens/\n    HomeScreen.tsx              # Main navigation and status\n    ImageGenerationScreen.tsx   # Image generation interface\n    ImageEditingScreen.tsx      # Image editing interface\n    TTSScreen.tsx              # Text-to-speech interface\n    STTScreen.tsx              # Speech-to-text interface\n    ChatScreen.tsx             # LLM chat interface\n    EmbeddingsScreen.tsx       # Embeddings interface\n  components/\n    # Reusable UI components\n  services/\n    api.ts                     # API client\n    cache.ts                   # Image caching\n    storage.ts                 # Local storage\n  utils/\n    constants.ts               # App constants\n    helpers.ts                 # Utility functions\n  App.tsx                      # Main app component\n```\n\n## Configuration\n\n### Backend URL\n\nThe app connects to the backend at `http://localhost:8000` by default. To change this:\n\n1. Open the app and tap \"Configure API\" on the home screen\n2. Enter the new backend URL\n3. The URL is saved for future sessions\n\n### Environment Variables\n\nCreate a `.env` file in the mobile_client directory:\n\n```bash\nEXPO_PUBLIC_API_URL=http://your-backend-url:8000\n```\n\n## Services\n\n### API Client (`services/api.ts`)\n\nCentralized API client with:\n- Automatic retry logic with exponential backoff\n- Request/response interceptors\n- Error handling\n- Support for all backend endpoints\n\n**Usage:**\n```typescript\nimport { getAPIClient } from './services/api';\n\nconst apiClient = getAPIClient();\nconst imageBlob = await apiClient.generateImage({\n  prompt: 'A beautiful sunset',\n});\n```\n\n### Cache Service (`services/cache.ts`)\n\nMulti-level caching with:\n- Memory cache for fast access\n- Disk cache for persistence\n- Automatic cache invalidation\n- Cache statistics\n\n**Usage:**\n```typescript\nimport { getCacheService } from './services/cache';\n\nconst cacheService = getCacheService();\nconst cachedImage = await cacheService.getCachedImage(prompt);\nif (!cachedImage) {\n  const imagePath = await cacheService.cacheImage(prompt, imageBlob);\n}\n```\n\n### Storage Service (`services/storage.ts`)\n\nPersistent data storage for:\n- User preferences\n- App settings\n- Recent prompts\n- Favorite images\n- API configuration\n\n**Usage:**\n```typescript\nimport { getStorageService } from './services/storage';\n\nconst storageService = getStorageService();\nawait storageService.savePreferences({\n  theme: 'dark',\n  language: 'en',\n  notifications: true,\n});\n```\n\n## UI Components\n\nThe app uses React Native built-in components and Expo modules:\n\n- **React Navigation**: Tab-based navigation\n- **Expo AV**: Audio recording and playback\n- **Expo Image Picker**: Image selection\n- **Expo Camera**: Camera access\n- **React Native SVG**: Vector graphics\n\n## Error Handling\n\nThe app handles various error scenarios:\n\n- **Network Errors**: Automatically retries with exponential backoff\n- **API Errors**: Displays user-friendly error messages\n- **Timeout Errors**: Shows timeout notification with retry option\n- **File Size Errors**: Validates file sizes before upload\n- **Offline**: Shows offline indicator and cached content\n\n## Performance Optimization\n\n- **Image Caching**: Generated images are cached locally\n- **Lazy Loading**: Images load only when visible\n- **Compression**: Images are compressed before display\n- **Async Operations**: Heavy operations run in background\n- **Memory Management**: Automatic cleanup of old cache entries\n\n## Testing\n\n```bash\n# Run tests\nnpm test\n\n# Run tests with coverage\nnpm test -- --coverage\n```\n\n## Building for Production\n\n### iOS\n\n```bash\nexp build:ios\n```\n\n### Android\n\n```bash\nexp build:android\n```\n\n## Troubleshooting\n\n### Cannot connect to backend\n\n1. Ensure the backend is running\n2. Check the backend URL in app settings\n3. Verify network connectivity\n4. Check firewall settings\n\n### Images not loading\n\n1. Check image cache size\n2. Clear app cache: Settings → App → Clear Cache\n3. Verify image format is PNG\n4. Check available disk space\n\n### Audio recording not working\n\n1. Grant microphone permissions\n2. Check device audio settings\n3. Ensure audio format is supported\n\n### App crashes on startup\n\n1. Clear app cache and data\n2. Reinstall the app\n3. Check console logs for errors\n4. Verify all dependencies are installed\n\n## Contributing\n\nContributions are welcome! Please follow these guidelines:\n\n1. Fork the repository\n2. Create a feature branch\n3. Make your changes\n4. Add tests for new functionality\n5. Submit a pull request\n\n## License\n\nMIT License - see LICENSE file for details\n\n## Support\n\nFor issues, questions, or suggestions, please open an issue on GitHub.\n\n## Resources\n\n- [React Native Documentation](https://reactnative.dev/)\n- [Expo Documentation](https://docs.expo.dev/)\n- [React Navigation Documentation](https://reactnavigation.org/)\n- [AI Platform Backend Documentation](../README.md)\n
